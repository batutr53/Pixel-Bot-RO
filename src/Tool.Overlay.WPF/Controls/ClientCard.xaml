<UserControl x:Class="PixelAutomation.Tool.Overlay.WPF.Controls.ClientCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <UserControl.Resources>
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="0,10,0,5"/>
        </Style>
        
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#cccccc"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Margin" Value="0,2"/>
        </Style>
        
        <Style x:Key="ValueStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#90EE90"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>
        
        <Style x:Key="CoordTextBoxStyle" TargetType="TextBox">
            <Setter Property="Width" Value="45"/>
            <Setter Property="Height" Value="22"/>
            <Setter Property="Background" Value="#383838"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderBrush" Value="#555555"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="9"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="Margin" Value="2,1"/>
        </Style>
        
        <Style x:Key="SmallButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#0e639c"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="9"/>
            <Setter Property="Height" Value="20"/>
            <Setter Property="Padding" Value="4,2"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1177bb"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
    
    <Border Background="#2d2d30" BorderBrush="#3f3f46" BorderThickness="1" CornerRadius="5" Margin="5" Padding="8">
        <StackPanel>
            <!-- Client Header -->
            <Grid Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock x:Name="ClientNameText" Text="Client 1" Style="{StaticResource SectionHeaderStyle}" FontSize="14" Margin="0,0,0,2"/>
                    <TextBlock x:Name="WindowTitleText" Text="No window selected" Style="{StaticResource LabelStyle}" FontSize="9" Foreground="#888888"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="🎯" Width="25" Height="25" Style="{StaticResource SmallButtonStyle}" Click="SelectWindow_Click" ToolTip="Select Window" Margin="0,0,2,0"/>
                    <Ellipse x:Name="StatusIndicator" Width="12" Height="12" Fill="#dc3545" VerticalAlignment="Center" ToolTip="Disconnected"/>
                </StackPanel>
            </Grid>
            
            <!-- HP Probe Section -->
            <Border Background="#1a1a1a" CornerRadius="3" Padding="6" Margin="0,0,0,5">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="❤️ HP Probe" Style="{StaticResource SectionHeaderStyle}" FontSize="11" Margin="0,0,0,3"/>
                        <CheckBox Grid.Column="1" x:Name="HpTriggerEnabled" Content="Enable" IsChecked="True" Foreground="#cccccc" FontSize="9"/>
                    </Grid>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Pos:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" x:Name="HpX" Style="{StaticResource CoordTextBoxStyle}" Text="0"/>
                        <TextBox Grid.Column="2" x:Name="HpY" Style="{StaticResource CoordTextBoxStyle}" Text="0"/>
                        <TextBox Grid.Column="3" x:Name="HpTolerance" Style="{StaticResource CoordTextBoxStyle}" Text="70" ToolTip="HP % threshold (e.g. 70 = trigger below 70%)"/>
                        <StackPanel Grid.Column="4" Orientation="Horizontal" Margin="5,0,0,0">
                            <Button Content="📍 Pick" Style="{StaticResource SmallButtonStyle}" Click="PickHpCoord_Click" Width="35" Margin="0,0,2,0"/>
                            <Button Content="🎨 Read" Style="{StaticResource SmallButtonStyle}" Click="ReadHpColor_Click" Width="40"/>
                        </StackPanel>
                    </Grid>
                    
                    <Grid Margin="0,3,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Color:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <Rectangle Grid.Column="1" x:Name="HpColorDisplay" Height="18" Fill="#FF0000" Stroke="#555555" StrokeThickness="1" Margin="0,0,5,0"/>
                        <TextBlock Grid.Column="2" x:Name="HpColorText" Text="255,0,0" Style="{StaticResource ValueStyle}" VerticalAlignment="Center" FontSize="8"/>
                    </Grid>
                    
                    <Grid Margin="0,3,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="HP%:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" x:Name="HpPercentageText" Text="100%" Style="{StaticResource ValueStyle}" VerticalAlignment="Center" FontWeight="Bold" Foreground="#00FF00"/>
                    </Grid>
                    
                    <Grid Margin="0,3,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Pota:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" x:Name="HpTriggerX" Style="{StaticResource CoordTextBoxStyle}" Text="0" ToolTip="HP Potion Click X"/>
                        <TextBox Grid.Column="2" x:Name="HpTriggerY" Style="{StaticResource CoordTextBoxStyle}" Text="0" ToolTip="HP Potion Click Y"/>
                        <TextBox Grid.Column="3" x:Name="HpTriggerCooldown" Style="{StaticResource CoordTextBoxStyle}" Text="120" ToolTip="Cooldown ms"/>
                        <Button Grid.Column="4" Content="📍" Style="{StaticResource SmallButtonStyle}" Click="PickHpTrigger_Click" HorizontalAlignment="Left" Width="25" Margin="5,0,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- MP Probe Section -->
            <Border Background="#1a1a1a" CornerRadius="3" Padding="6" Margin="0,0,0,5">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="💙 MP Probe" Style="{StaticResource SectionHeaderStyle}" FontSize="11" Margin="0,0,0,3"/>
                        <CheckBox Grid.Column="1" x:Name="MpTriggerEnabled" Content="Enable" IsChecked="True" Foreground="#cccccc" FontSize="9"/>
                    </Grid>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Pos:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" x:Name="MpX" Style="{StaticResource CoordTextBoxStyle}" Text="0"/>
                        <TextBox Grid.Column="2" x:Name="MpY" Style="{StaticResource CoordTextBoxStyle}" Text="0"/>
                        <TextBox Grid.Column="3" x:Name="MpTolerance" Style="{StaticResource CoordTextBoxStyle}" Text="50" ToolTip="MP % threshold (e.g. 50 = trigger below 50%)"/>
                        <StackPanel Grid.Column="4" Orientation="Horizontal" Margin="5,0,0,0">
                            <Button Content="📍 Pick" Style="{StaticResource SmallButtonStyle}" Click="PickMpCoord_Click" Width="35" Margin="0,0,2,0"/>
                            <Button Content="🎨 Read" Style="{StaticResource SmallButtonStyle}" Click="ReadMpColor_Click" Width="40"/>
                        </StackPanel>
                    </Grid>
                    
                    <Grid Margin="0,3,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Color:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <Rectangle Grid.Column="1" x:Name="MpColorDisplay" Height="18" Fill="#0000FF" Stroke="#555555" StrokeThickness="1" Margin="0,0,5,0"/>
                        <TextBlock Grid.Column="2" x:Name="MpColorText" Text="0,0,255" Style="{StaticResource ValueStyle}" VerticalAlignment="Center" FontSize="8"/>
                    </Grid>
                    
                    <Grid Margin="0,3,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="MP%:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" x:Name="MpPercentageText" Text="100%" Style="{StaticResource ValueStyle}" VerticalAlignment="Center" FontWeight="Bold" Foreground="#0088FF"/>
                    </Grid>
                    
                    <Grid Margin="0,3,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Pota:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" x:Name="MpTriggerX" Style="{StaticResource CoordTextBoxStyle}" Text="0" ToolTip="MP Potion Click X"/>
                        <TextBox Grid.Column="2" x:Name="MpTriggerY" Style="{StaticResource CoordTextBoxStyle}" Text="0" ToolTip="MP Potion Click Y"/>
                        <TextBox Grid.Column="3" x:Name="MpTriggerCooldown" Style="{StaticResource CoordTextBoxStyle}" Text="120" ToolTip="Cooldown ms"/>
                        <Button Grid.Column="4" Content="📍" Style="{StaticResource SmallButtonStyle}" Click="PickMpTrigger_Click" HorizontalAlignment="Left" Width="25" Margin="5,0,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- Periodic Clicks Section -->
            <Border Background="#1a1a1a" CornerRadius="3" Padding="6" Margin="0,0,0,5">
                <StackPanel>
                    <TextBlock Text="⏰ Periodic Clicks" Style="{StaticResource SectionHeaderStyle}" FontSize="11" Margin="0,0,0,3"/>
                    
                    <!-- Main Y Click -->
                    <Grid Margin="0,0,0,3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="25"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <CheckBox Grid.Column="0" x:Name="YClickEnabled" IsChecked="True" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Y:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center" FontWeight="Bold" Foreground="#FFD700"/>
                        <TextBox Grid.Column="2" x:Name="YClickX" Style="{StaticResource CoordTextBoxStyle}" Text="540"/>
                        <TextBox Grid.Column="3" x:Name="YClickY" Style="{StaticResource CoordTextBoxStyle}" Text="760"/>
                        <TextBox Grid.Column="4" x:Name="YClickPeriod" Style="{StaticResource CoordTextBoxStyle}" Text="120" ToolTip="Period in ms"/>
                        <Button Grid.Column="5" Content="📍" Style="{StaticResource SmallButtonStyle}" Click="PickYCoord_Click" HorizontalAlignment="Left" Width="25" Margin="5,0,0,0"/>
                    </Grid>
                    
                    <!-- Extra Clicks -->
                    <Grid Margin="0,0,0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="25"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <CheckBox Grid.Column="0" x:Name="Extra1Enabled" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="E1:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="2" x:Name="Extra1X" Style="{StaticResource CoordTextBoxStyle}" Text="700"/>
                        <TextBox Grid.Column="3" x:Name="Extra1Y" Style="{StaticResource CoordTextBoxStyle}" Text="820"/>
                        <TextBox Grid.Column="4" x:Name="Extra1Period" Style="{StaticResource CoordTextBoxStyle}" Text="250"/>
                        <Button Grid.Column="5" Content="📍" Style="{StaticResource SmallButtonStyle}" Click="PickExtra1Coord_Click" HorizontalAlignment="Left" Width="25" Margin="5,0,0,0"/>
                    </Grid>
                    
                    <Grid Margin="0,0,0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="25"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <CheckBox Grid.Column="0" x:Name="Extra2Enabled" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="E2:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="2" x:Name="Extra2X" Style="{StaticResource CoordTextBoxStyle}" Text="720"/>
                        <TextBox Grid.Column="3" x:Name="Extra2Y" Style="{StaticResource CoordTextBoxStyle}" Text="840"/>
                        <TextBox Grid.Column="4" x:Name="Extra2Period" Style="{StaticResource CoordTextBoxStyle}" Text="500"/>
                        <Button Grid.Column="5" Content="📍" Style="{StaticResource SmallButtonStyle}" Click="PickExtra2Coord_Click" HorizontalAlignment="Left" Width="25" Margin="5,0,0,0"/>
                    </Grid>
                    
                    <Grid Margin="0,0,0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="25"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <CheckBox Grid.Column="0" x:Name="Extra3Enabled" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="E3:" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="2" x:Name="Extra3X" Style="{StaticResource CoordTextBoxStyle}" Text="740"/>
                        <TextBox Grid.Column="3" x:Name="Extra3Y" Style="{StaticResource CoordTextBoxStyle}" Text="860"/>
                        <TextBox Grid.Column="4" x:Name="Extra3Period" Style="{StaticResource CoordTextBoxStyle}" Text="1000"/>
                        <Button Grid.Column="5" Content="📍" Style="{StaticResource SmallButtonStyle}" Click="PickExtra3Coord_Click" HorizontalAlignment="Left" Width="25" Margin="5,0,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- Statistics -->
            <Border Background="#1a1a1a" CornerRadius="3" Padding="6">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0">
                        <TextBlock Text="FPS" Style="{StaticResource LabelStyle}"/>
                        <TextBlock x:Name="FpsValue" Text="0.0" Style="{StaticResource ValueStyle}"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Clicks" Style="{StaticResource LabelStyle}"/>
                        <TextBlock x:Name="ClicksValue" Text="0" Style="{StaticResource ValueStyle}"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="2">
                        <TextBlock Text="Triggers" Style="{StaticResource LabelStyle}"/>
                        <TextBlock x:Name="TriggersValue" Text="0" Style="{StaticResource ValueStyle}"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Action Buttons -->
            <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                <Button Content="▶️ Start" x:Name="StartButton" Style="{StaticResource SmallButtonStyle}" Click="StartClient_Click" Width="45" Margin="0,0,3,0"/>
                <Button Content="⏸️ Stop" x:Name="StopButton" Style="{StaticResource SmallButtonStyle}" Click="StopClient_Click" Width="40" Margin="0,0,3,0" IsEnabled="False"/>
                <Button Content="🔄 Test" Style="{StaticResource SmallButtonStyle}" Click="TestClient_Click" Width="80"/>
            </StackPanel>
        </StackPanel>
    </Border>
</UserControl>