<Window x:Class="PixelAutomation.Tool.Overlay.WPF.ClientConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Client Configuration" 
        Height="600" Width="500"
        WindowStartupLocation="CenterOwner"
        Background="#1e1e1e">
    
    <Window.Resources>
        <Style x:Key="SectionStyle" TargetType="GroupBox">
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderBrush" Value="#3f3f46"/>
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="Padding" Value="10"/>
        </Style>
        
        <Style x:Key="LabelStyle" TargetType="Label">
            <Setter Property="Foreground" Value="#cccccc"/>
            <Setter Property="FontSize" Value="11"/>
        </Style>
        
        <Style x:Key="TextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#383838"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderBrush" Value="#555555"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="Height" Value="25"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- HP Probe Configuration -->
                <GroupBox Header="â¤ï¸ HP Probe Settings" Style="{StaticResource SectionStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <Label Grid.Row="0" Grid.Column="0" Content="Position:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
                            <TextBox x:Name="HpPosX" Style="{StaticResource TextBoxStyle}" Width="60" Margin="0,0,5,0"/>
                            <TextBox x:Name="HpPosY" Style="{StaticResource TextBoxStyle}" Width="60"/>
                        </StackPanel>
                        <Button Grid.Row="0" Grid.Column="2" Content="Pick" Click="PickHpPosition_Click"/>
                        
                        <Label Grid.Row="1" Grid.Column="0" Content="Expected Color:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
                            <Rectangle x:Name="HpExpectedColorDisplay" Width="50" Height="20" Stroke="#555" StrokeThickness="1" Margin="0,0,10,0"/>
                            <TextBox x:Name="HpExpectedColorText" Style="{StaticResource TextBoxStyle}" Width="80"/>
                        </StackPanel>
                        <Button Grid.Row="1" Grid.Column="2" Content="Sample" Click="SampleHpColor_Click"/>
                        
                        <Label Grid.Row="2" Grid.Column="0" Content="Trigger Color:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
                            <Rectangle x:Name="HpTriggerColorDisplay" Width="50" Height="20" Stroke="#555" StrokeThickness="1" Margin="0,0,10,0"/>
                            <TextBox x:Name="HpTriggerColorText" Style="{StaticResource TextBoxStyle}" Width="80"/>
                        </StackPanel>
                        
                        <Label Grid.Row="3" Grid.Column="0" Content="Tolerance:" Style="{StaticResource LabelStyle}"/>
                        <Slider Grid.Row="3" Grid.Column="1" x:Name="HpToleranceSlider" Minimum="5" Maximum="100" Value="30" TickFrequency="5"/>
                        <TextBlock Grid.Row="3" Grid.Column="2" Text="{Binding ElementName=HpToleranceSlider, Path=Value, StringFormat='{}{0:F0}'}" Foreground="White" VerticalAlignment="Center"/>
                        
                        <Label Grid.Row="4" Grid.Column="0" Content="Action Click:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal">
                            <TextBox x:Name="HpActionX" Style="{StaticResource TextBoxStyle}" Width="60" Margin="0,0,5,0"/>
                            <TextBox x:Name="HpActionY" Style="{StaticResource TextBoxStyle}" Width="60"/>
                        </StackPanel>
                        <Button Grid.Row="4" Grid.Column="2" Content="Pick" Click="PickHpAction_Click"/>
                    </Grid>
                </GroupBox>
                
                <!-- MP Probe Configuration -->
                <GroupBox Header="ðŸ’™ MP Probe Settings" Style="{StaticResource SectionStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <Label Grid.Row="0" Grid.Column="0" Content="Position:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
                            <TextBox x:Name="MpPosX" Style="{StaticResource TextBoxStyle}" Width="60" Margin="0,0,5,0"/>
                            <TextBox x:Name="MpPosY" Style="{StaticResource TextBoxStyle}" Width="60"/>
                        </StackPanel>
                        <Button Grid.Row="0" Grid.Column="2" Content="Pick" Click="PickMpPosition_Click"/>
                        
                        <Label Grid.Row="1" Grid.Column="0" Content="Expected Color:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
                            <Rectangle x:Name="MpExpectedColorDisplay" Width="50" Height="20" Stroke="#555" StrokeThickness="1" Margin="0,0,10,0"/>
                            <TextBox x:Name="MpExpectedColorText" Style="{StaticResource TextBoxStyle}" Width="80"/>
                        </StackPanel>
                        <Button Grid.Row="1" Grid.Column="2" Content="Sample" Click="SampleMpColor_Click"/>
                        
                        <Label Grid.Row="2" Grid.Column="0" Content="Trigger Color:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
                            <Rectangle x:Name="MpTriggerColorDisplay" Width="50" Height="20" Stroke="#555" StrokeThickness="1" Margin="0,0,10,0"/>
                            <TextBox x:Name="MpTriggerColorText" Style="{StaticResource TextBoxStyle}" Width="80"/>
                        </StackPanel>
                        
                        <Label Grid.Row="3" Grid.Column="0" Content="Tolerance:" Style="{StaticResource LabelStyle}"/>
                        <Slider Grid.Row="3" Grid.Column="1" x:Name="MpToleranceSlider" Minimum="5" Maximum="100" Value="30" TickFrequency="5"/>
                        <TextBlock Grid.Row="3" Grid.Column="2" Text="{Binding ElementName=MpToleranceSlider, Path=Value, StringFormat='{}{0:F0}'}" Foreground="White" VerticalAlignment="Center"/>
                        
                        <Label Grid.Row="4" Grid.Column="0" Content="Action Click:" Style="{StaticResource LabelStyle}"/>
                        <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal">
                            <TextBox x:Name="MpActionX" Style="{StaticResource TextBoxStyle}" Width="60" Margin="0,0,5,0"/>
                            <TextBox x:Name="MpActionY" Style="{StaticResource TextBoxStyle}" Width="60"/>
                        </StackPanel>
                        <Button Grid.Row="4" Grid.Column="2" Content="Pick" Click="PickMpAction_Click"/>
                    </Grid>
                </GroupBox>
                
                <!-- Periodic Clicks Configuration -->
                <GroupBox Header="â° Periodic Clicks" Style="{StaticResource SectionStyle}">
                    <StackPanel>
                        <!-- Y Click -->
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <CheckBox Grid.Column="0" x:Name="YPeriodicEnabled" IsChecked="True"/>
                            <TextBlock Grid.Column="1" Text="Y:" Foreground="#FFD700" FontWeight="Bold" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="2" x:Name="YPeriodicX" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="3" x:Name="YPeriodicY" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="4" x:Name="YPeriodicPeriod" Style="{StaticResource TextBoxStyle}" Width="55" ToolTip="Period in ms"/>
                            <Button Grid.Column="5" Content="ðŸ“" Click="PickYPeriodic_Click" Width="25" HorizontalAlignment="Left" Margin="5,0,0,0"/>
                        </Grid>
                        
                        <!-- Extra Clicks -->
                        <Grid Margin="0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <CheckBox Grid.Column="0" x:Name="Extra1PeriodicEnabled"/>
                            <TextBlock Grid.Column="1" Text="E1:" Foreground="#cccccc" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="2" x:Name="Extra1PeriodicX" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="3" x:Name="Extra1PeriodicY" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="4" x:Name="Extra1PeriodicPeriod" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <Button Grid.Column="5" Content="ðŸ“" Click="PickExtra1Periodic_Click" Width="25" HorizontalAlignment="Left" Margin="5,0,0,0"/>
                        </Grid>
                        
                        <Grid Margin="0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <CheckBox Grid.Column="0" x:Name="Extra2PeriodicEnabled"/>
                            <TextBlock Grid.Column="1" Text="E2:" Foreground="#cccccc" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="2" x:Name="Extra2PeriodicX" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="3" x:Name="Extra2PeriodicY" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="4" x:Name="Extra2PeriodicPeriod" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <Button Grid.Column="5" Content="ðŸ“" Click="PickExtra2Periodic_Click" Width="25" HorizontalAlignment="Left" Margin="5,0,0,0"/>
                        </Grid>
                        
                        <Grid Margin="0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <CheckBox Grid.Column="0" x:Name="Extra3PeriodicEnabled"/>
                            <TextBlock Grid.Column="1" Text="E3:" Foreground="#cccccc" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="2" x:Name="Extra3PeriodicX" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="3" x:Name="Extra3PeriodicY" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <TextBox Grid.Column="4" x:Name="Extra3PeriodicPeriod" Style="{StaticResource TextBoxStyle}" Width="55"/>
                            <Button Grid.Column="5" Content="ðŸ“" Click="PickExtra3Periodic_Click" Width="25" HorizontalAlignment="Left" Margin="5,0,0,0"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>
                
                <!-- Advanced Settings -->
                <GroupBox Header="âš™ï¸ Advanced Settings" Style="{StaticResource SectionStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Label Grid.Row="0" Grid.Column="0" Content="Debounce (ms):" Style="{StaticResource LabelStyle}"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="DebounceMs" Style="{StaticResource TextBoxStyle}" Text="30"/>
                        
                        <Label Grid.Row="1" Grid.Column="0" Content="Cooldown (ms):" Style="{StaticResource LabelStyle}"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="CooldownMs" Style="{StaticResource TextBoxStyle}" Text="120"/>
                        
                        <Label Grid.Row="2" Grid.Column="0" Content="Max Clicks/sec:" Style="{StaticResource LabelStyle}"/>
                        <TextBox Grid.Row="2" Grid.Column="1" x:Name="MaxClicksPerSec" Style="{StaticResource TextBoxStyle}" Text="20"/>
                        
                        <Label Grid.Row="3" Grid.Column="0" Content="Box Size:" Style="{StaticResource LabelStyle}"/>
                        <Slider Grid.Row="3" Grid.Column="1" x:Name="BoxSizeSlider" Minimum="1" Maximum="15" Value="5" TickFrequency="1" IsSnapToTickEnabled="True"/>
                    </Grid>
                </GroupBox>
                
                <!-- Live Preview -->
                <GroupBox Header="ðŸ‘ï¸ Live Preview" Style="{StaticResource SectionStyle}">
                    <StackPanel>
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="HP Current:" Foreground="#cccccc" FontSize="10"/>
                                <TextBlock x:Name="HpCurrentColorText" Text="RGB(0,0,0)" Foreground="#90EE90" FontFamily="Consolas" FontSize="10"/>
                                <TextBlock x:Name="HpDistanceText" Text="Distance: 0" Foreground="#cccccc" FontSize="9"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="MP Current:" Foreground="#cccccc" FontSize="10"/>
                                <TextBlock x:Name="MpCurrentColorText" Text="RGB(0,0,0)" Foreground="#90EE90" FontFamily="Consolas" FontSize="10"/>
                                <TextBlock x:Name="MpDistanceText" Text="Distance: 0" Foreground="#cccccc" FontSize="9"/>
                            </StackPanel>
                        </Grid>
                        
                        <Button Content="ðŸ”„ Update Preview" Click="UpdatePreview_Click" Margin="0,5"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <!-- Action Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="Test Configuration" Click="TestConfig_Click" Width="120" Height="30" Margin="0,0,10,0"/>
            <Button Content="Save" Click="SaveConfig_Click" Width="80" Height="30" Margin="0,0,10,0"/>
            <Button Content="Cancel" Click="Cancel_Click" Width="80" Height="30"/>
        </StackPanel>
    </Grid>
</Window>